import sys
sys.path.append('../../')

from examples.ga_onemax_lib import *

stdout = """0	0.03125	0.0407813020097	0.0055614551069
1	0.0294117647059	0.0380918616101	0.00450622600605
2	0.0277777777778	0.0354722826392	0.0037863687237
3	0.0277777777778	0.0338362202776	0.00379265767648
4	0.0277777777778	0.0315314487988	0.00246353628866
5	0.0238095238095	0.0301390249535	0.00243139455637
6	0.0238095238095	0.028943889401	0.00265769830081
7	0.0238095238095	0.0274036610815	0.00182631053989
8	0.0232558139535	0.0264441876819	0.00153496532773
9	0.0227272727273	0.0260128701016	0.00160853816813
10	0.0222222222222	0.0253143903549	0.00130642239486
11	0.0222222222222	0.0247527987488	0.00141703794024
12	0.0212765957447	0.0240260411066	0.00134274189815
13	0.0212765957447	0.0233757082989	0.00120068859079
14	0.0208333333333	0.0228546785563	0.00101858633894
15	0.02	0.022430398718	0.000870433399703
16	0.02	0.02196035083	0.000894969777647
17	0.02	0.0216537169847	0.000710159049295
18	0.02	0.0213578600504	0.000618545520307
19	0.02	0.0211115618416	0.000639321623828
fitness: 0.02	genome: [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1]
"""

def test_ga_onemax(capfd):
    np.random.seed(42)
    main()
    out, err = capfd.readouterr()
    assert out == stdout
