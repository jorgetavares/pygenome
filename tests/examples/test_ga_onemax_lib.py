from examples.ga_onemax_lib import *

stdout1 = """0	0.03125	0.040781302009688776	0.005561455106895243
1	0.029411764705882353	0.038091861610110966	0.00450622600604616
2	0.027777777777777776	0.03547228263920674	0.00378636872370032
3	0.027777777777777776	0.03383622027764222	0.003792657676482543
4	0.027777777777777776	0.03153144879877114	0.0024635362886572016
5	0.023809523809523808	0.030139024953537853	0.00243139455636538
6	0.023809523809523808	0.02894388940095638	0.0026576983008068868
7	0.023809523809523808	0.02740366108153792	0.001826310539891214
8	0.023255813953488372	0.026444187681938076	0.0015349653277309185
9	0.022727272727272728	0.026012870101612462	0.001608538168134231
10	0.022222222222222223	0.025314390354864127	0.0013064223948593403
11	0.022222222222222223	0.02475279874881244	0.0014170379402423956
12	0.02127659574468085	0.024026041106628093	0.0013427418981510168
13	0.02127659574468085	0.0233757082989196	0.0012006885907910165
14	0.020833333333333332	0.02285467855630095	0.0010185863389449473
15	0.02	0.022430398717967374	0.0008704333997032909
16	0.02	0.021960350829972216	0.0008949697776471712
17	0.02	0.021653716984652648	0.0007101590492949621
18	0.02	0.021357860050448662	0.000618545520306597
19	0.02	0.02111156184156859	0.0006393216238278883
fitness: 0.02	genotype: [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1]
"""

stdout2 = """0	0.03125	0.040781302009688776	0.005561455106895243
1	0.029411764705882353	0.03806961466906536	0.004529420882699671
2	0.027777777777777776	0.035469779179499235	0.003955266946296874
3	0.027777777777777776	0.033449991375514826	0.003252824537653384
4	0.02702702702702703	0.03177834754420176	0.002434115602218585
5	0.025	0.03057276059869929	0.002401339643032918
6	0.025	0.029670297872051755	0.002087046735419556
7	0.023255813953488372	0.02901110109137062	0.0022058154187357625
8	0.022222222222222223	0.027653173266613568	0.0023950509677235104
9	0.021739130434782608	0.026161257759998256	0.002140431871701268
10	0.022222222222222223	0.025047579089060416	0.0015193678241094523
11	0.02127659574468085	0.024342012176254254	0.0013692052504817192
12	0.02127659574468085	0.02364217918792269	0.0011091743388438994
13	0.020833333333333332	0.02316585857072059	0.0008838780129495406
14	0.020833333333333332	0.022767975567617765	0.0008993544386286546
15	0.020833333333333332	0.022489526273824615	0.0009871792470162576
16	0.02	0.02189383095616873	0.0009591918240766615
17	0.02040816326530612	0.021390902225719332	0.0007160005307200927
18	0.02	0.021064093949748765	0.0005812157434597806
19	0.02	0.020819341358610553	0.0005037097948161243
fitness: 0.02	genotype: [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1]
"""


def test_generational_no_elitism(capfd):
    generational_no_elitism()
    out, err = capfd.readouterr()
    assert out == stdout1


def test_generational_with_elitism(capfd):
    generational_with_elitism()
    out, err = capfd.readouterr()
    assert out == stdout2
