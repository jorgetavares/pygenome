import sys
sys.path.append('../../')

from examples.ga_onemax import *

stdout1 = """0	0.03125	0.0407813020097	0.0055614551069
1	0.0294117647059	0.0380918616101	0.00450622600605
2	0.0277777777778	0.0354722826392	0.0037863687237
3	0.0277777777778	0.0338362202776	0.00379265767648
4	0.0277777777778	0.0315314487988	0.00246353628866
5	0.0238095238095	0.0301390249535	0.00243139455637
6	0.0238095238095	0.028943889401	0.00265769830081
7	0.0238095238095	0.0274036610815	0.00182631053989
8	0.0232558139535	0.0264441876819	0.00153496532773
9	0.0227272727273	0.0260128701016	0.00160853816813
10	0.0222222222222	0.0253143903549	0.00130642239486
11	0.0222222222222	0.0247527987488	0.00141703794024
12	0.0212765957447	0.0240260411066	0.00134274189815
13	0.0212765957447	0.0233757082989	0.00120068859079
14	0.0208333333333	0.0228546785563	0.00101858633894
15	0.02	0.022430398718	0.000870433399703
16	0.02	0.02196035083	0.000894969777647
17	0.02	0.0216537169847	0.000710159049295
18	0.02	0.0213578600504	0.000618545520307
19	0.02	0.0211115618416	0.000639321623828
fitness: 0.02	genome: [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1]
"""

stdout2 = """0	0.03125	0.0407813020097	0.0055614551069
1	0.0294117647059	0.0380595340239	0.00454344387043
2	0.0277777777778	0.035407148563	0.00400372903938
3	0.0277777777778	0.033389549421	0.00321945068766
4	0.025	0.0317596301113	0.00241383035772
5	0.0243902439024	0.0304658308858	0.00245067600853
6	0.0243902439024	0.0297481699486	0.00224093114127
7	0.0232558139535	0.0287829398706	0.0021429324656
8	0.0232558139535	0.0275022496355	0.00191233976138
9	0.0232558139535	0.026455506916	0.00182884732022
10	0.0222222222222	0.0253671004707	0.00151992811902
11	0.0222222222222	0.0246190726278	0.00134999235453
12	0.0217391304348	0.0240653228253	0.00117297763618
13	0.0212765957447	0.0234613321829	0.00106703169858
14	0.0212765957447	0.0228950762862	0.000939610529858
15	0.0208333333333	0.0225220165679	0.000826833817142
16	0.0204081632653	0.0221363399766	0.00078043853362
17	0.02	0.0218176099515	0.000832777948979
18	0.02	0.0214730956676	0.00071787980309
19	0.02	0.0212076047124	0.000674141765573
fitness: 0.02	genome: [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1]
"""

def test_generational_no_elitism(capfd):
    generational_no_elitism()
    out, err = capfd.readouterr()
    assert out == stdout1

def test_generational_with_elitism(capfd):
    generational_with_elitism()
    out, err = capfd.readouterr()
    assert out == stdout2